============================= test session starts ==============================
platform darwin -- Python 3.11.1, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper
configfile: pytest.ini
plugins: asyncio-1.2.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 65 items

tests/unit/test_layer3_explainer.py .............................        [ 44%]
tests/integration/test_layer3_coverage_boost.py ..........               [ 60%]
tests/integration/test_layer3_final_coverage.py ...........              [ 76%]
tests/integration/test_layer3_integration.py .............../Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/venv/lib/python3.11/site-packages/coverage/inorout.py:521: CoverageWarning: Module src/scrapers/layer3_explainer was never imported. (module-not-imported); see https://coverage.readthedocs.io/en/7.10.7/messages.html#warning-module-not-imported
  self.warn(f"Module {pkg} was never imported.", slug="module-not-imported")
             [100%]

=============================== warnings summary ===============================
src/database/schema.py:12
  /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/src/database/schema.py:12: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

tests/unit/test_layer3_explainer.py: 10 warnings
  /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/src/scrapers/layer3_explainer.py:350: DeprecationWarning: The 'text' argument to find()-type methods is deprecated. Use 'string' instead.
    elements = soup.find_all(text=re.compile(keyword, re.IGNORECASE))

tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
tests/unit/test_layer3_explainer.py::TestCommonPitfallsExtraction::test_extract_common_pitfalls_basic
  /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/src/scrapers/layer3_explainer.py:368: DeprecationWarning: The 'text' argument to find()-type methods is deprecated. Use 'string' instead.
    elements = soup.find_all(text=re.compile(keyword, re.IGNORECASE))

tests/integration/test_layer3_final_coverage.py::TestErrorPaths::test_extract_with_playwright_timeout
  /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/src/scrapers/layer3_explainer.py:118: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    page.set_default_timeout(self.timeout)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.11.1-final-0 _______________

Name                               Stmts   Miss   Cover   Missing
-----------------------------------------------------------------
src/__init__.py                        0      0 100.00%
src/database/__init__.py               0      0 100.00%
src/database/schema.py                99      9  90.91%   159-175, 188-198, 211
src/models/__init__.py                 0      0 100.00%
src/orchestrator/__init__.py           0      0 100.00%
src/parsers/__init__.py                0      0 100.00%
src/scrapers/__init__.py               0      0 100.00%
src/scrapers/layer1_metadata.py      325    325   0.00%   12-650
src/scrapers/layer3_explainer.py     264     39  85.23%   203-205, 208-209, 223-224, 249-250, 254-278, 469-470, 565-581
src/utils/__init__.py                  0      0 100.00%
src/utils/logging.py                  38     38   0.00%   6-121
-----------------------------------------------------------------
TOTAL                                726    411  43.39%
Coverage HTML written to dir htmlcov
================= 65 passed, 18 warnings in 151.90s (0:02:31) ==================
