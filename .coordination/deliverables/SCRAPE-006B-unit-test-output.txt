============================= test session starts ==============================
platform darwin -- Python 3.11.1, pytest-8.4.2, pluggy-1.6.0 -- /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/venv/bin/python3.11
cachedir: .pytest_cache
rootdir: /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper
configfile: pytest.ini
plugins: asyncio-1.2.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 15 items

tests/unit/test_transcript_extractor.py::TestTranscriptExtractorInitialization::test_init_with_defaults PASSED [  6%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorInitialization::test_init_with_custom_params PASSED [ 13%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorInitialization::test_context_manager_enter PASSED [ 20%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorInitialization::test_context_manager_exit PASSED [ 26%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorExtraction::test_extract_transcript_success PASSED [ 33%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorExtraction::test_extract_transcript_panel_not_found PASSED [ 40%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorExtraction::test_extract_transcript_exception_handling PASSED [ 46%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorPanelOpening::test_open_transcript_panel_success PASSED [ 53%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorPanelOpening::test_open_transcript_panel_no_show_more_button PASSED [ 60%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorTextExtraction::test_extract_transcript_text_success PASSED [ 66%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorTextExtraction::test_extract_transcript_text_empty_segments PASSED [ 73%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorTextExtraction::test_extract_transcript_text_short_content PASSED [ 80%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorEdgeCases::test_browser_crash_handling PASSED [ 86%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorEdgeCases::test_timeout_handling PASSED [ 93%]
tests/unit/test_transcript_extractor.py::TestTranscriptExtractorEdgeCases::test_multiple_extractions_sequential PASSED [100%]

=============================== warnings summary ===============================
src/database/schema.py:12
  /Users/tsvikavagman/Desktop/Code Projects/shared-tools/n8n-scraper/src/database/schema.py:12: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.11.1-final-0 _______________

Name                                         Stmts   Miss   Cover   Missing
---------------------------------------------------------------------------
src/__init__.py                                  0      0 100.00%
src/database/__init__.py                         0      0 100.00%
src/database/inventory_schema.py               101    101   0.00%   6-242
src/database/json_schema.py                     91     91   0.00%   6-195
src/database/schema.py                          99      9  90.91%   159-175, 188-198, 211
src/database/validation_schema.py              132    132   0.00%   6-265
src/models/__init__.py                           0      0 100.00%
src/orchestrator/__init__.py                     0      0 100.00%
src/parsers/__init__.py                          0      0 100.00%
src/scrapers/__init__.py                         0      0 100.00%
src/scrapers/layer1_metadata.py                346    346   0.00%   12-701
src/scrapers/layer2_json.py                    100    100   0.00%   6-278
src/scrapers/layer3_explainer.py               264    264   0.00%   12-592
src/scrapers/multimodal_processor.py           350    350   0.00%   12-801
src/scrapers/transcript_extractor.py           125     39  68.80%   107, 110-112, 153-154, 179-220, 254-257, 262-264
src/scrapers/workflow_inventory_crawler.py      89     89   0.00%   6-174
src/utils/__init__.py                            0      0 100.00%
src/utils/logging.py                            38     38   0.00%   6-121
src/validation/__init__.py                       1      1   0.00%   6
src/validation/layer1_validator.py              73     73   0.00%   6-157
src/validation/layer2_validator.py              74     74   0.00%   6-159
src/validation/layer3_validator.py              67     67   0.00%   6-144
src/validation/quality_scorer.py                61     61   0.00%   6-200
---------------------------------------------------------------------------
TOTAL                                         2011   1835   8.75%
Coverage HTML written to dir htmlcov
======================== 15 passed, 1 warning in 17.73s ========================
