# ========================================
# SUPABASE CONNECTION DETAILS
# ========================================
# Project: n8n-workflow-scraper
# Reference ID: skduopoakfeaurttcaip
# Region: eu-north-1
# Created: 2025-10-12
# Database contains: 6,022 workflows
# 
# CONNECTION VERIFIED WORKING: 2025-10-13
# ========================================

# Individual connection parameters
DB_HOST=aws-1-eu-north-1.pooler.supabase.com
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres.skduopoakfeaurttcaip
DB_PASSWORD=crg3pjm8ych4ctu@KXT
DB_CONNECT_TIMEOUT=10

# Full connection URL (percent-encoded password: @ becomes %40)
DATABASE_URL=postgresql://postgres.skduopoakfeaurttcaip:crg3pjm8ych4ctu%40KXT@aws-1-eu-north-1.pooler.supabase.com:5432/postgres

# ========================================
# CRITICAL: PSYCOPG2 CONNECTION REQUIREMENTS
# ========================================
# ALWAYS include connect_timeout parameter to avoid connection failures!
# 
# Example:
# conn = psycopg2.connect(
#     host='aws-1-eu-north-1.pooler.supabase.com',
#     port=5432,
#     database='postgres',
#     user='postgres.skduopoakfeaurttcaip',
#     password='crg3pjm8ych4ctu@KXT',
#     connect_timeout=10  # <-- REQUIRED!
# )
#
# ========================================
# TESTING CONNECTION
# ========================================
# From host machine:
# PGPASSWORD='crg3pjm8ych4ctu@KXT' psql -h aws-1-eu-north-1.pooler.supabase.com -p 5432 -U postgres.skduopoakfeaurttcaip -d postgres -c "SELECT COUNT(*) FROM workflows;"
#
# From Docker container:
# docker exec n8n-scraper-app python -c "import psycopg2; conn=psycopg2.connect(host='aws-1-eu-north-1.pooler.supabase.com',port=5432,database='postgres',user='postgres.skduopoakfeaurttcaip',password='crg3pjm8ych4ctu@KXT',connect_timeout=10); print('Connected!')"
#
# ========================================
# SUPABASE CLI COMMANDS
# ========================================
# List all projects:
# supabase projects list
#
# Get API keys:
# supabase projects api-keys --project-ref skduopoakfeaurttcaip
#
# ========================================
