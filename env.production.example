# ============================================================
# N8N SCRAPER - PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================
# Copy this file to .env and customize for your environment
#
# IMPORTANT: Never commit .env to version control!

# ============================================================
# DATABASE CONFIGURATION
# ============================================================

# PostgreSQL Connection (Docker)
DATABASE_URL=postgresql://scraper_user:scraper_pass@n8n-scraper-database:5432/n8n_scraper

# PostgreSQL Connection (Local development - if running outside Docker)
# DATABASE_URL=postgresql://scraper_user:scraper_pass@localhost:5432/n8n_scraper

# Database Credentials
POSTGRES_DB=n8n_scraper
POSTGRES_USER=scraper_user
POSTGRES_PASSWORD=scraper_pass

# ============================================================
# N8N SCRAPING CONFIGURATION
# ============================================================

# N8N Base URL
N8N_BASE_URL=https://n8n.io

# Scraping Performance
MAX_CONCURRENT_SCRAPERS=3
RATE_LIMIT_PER_SECOND=2
REQUEST_TIMEOUT=30

# Browser Configuration
BROWSER_HEADLESS=true
BROWSER_SLOW_MO=0

# ============================================================
# FEATURE FLAGS
# ============================================================

# Layer Extraction Flags
ENABLE_LAYER1=true
ENABLE_LAYER2=true
ENABLE_LAYER3=true

# Multimodal Features
ENABLE_OCR=true
ENABLE_TRANSCRIPT_EXTRACTION=true

# ============================================================
# LOGGING CONFIGURATION
# ============================================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/scraper.log

# ============================================================
# BACKUP CONFIGURATION
# ============================================================

# Backup Retention (days)
BACKUP_RETENTION_DAYS=30

# Backup Schedule (for cron)
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# ============================================================
# DEVELOPMENT SETTINGS
# ============================================================

# Python Configuration
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Debug Mode
DEBUG=false
VERBOSE=false

# Testing
TEST_MODE=false
TEST_WORKFLOW_LIMIT=10

# ============================================================
# MONITORING & ALERTS (Optional)
# ============================================================

# Email Notifications (if enabled)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL=admin@example.com

# Slack Notifications (if enabled)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================================
# EXTERNAL SERVICES (Optional)
# ============================================================

# AWS S3 for off-site backups (if enabled)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=n8n-scraper-backups
# AWS_REGION=us-east-1

# Sentry for error tracking (if enabled)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# ============================================================
# PERFORMANCE TUNING
# ============================================================

# Database Connection Pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Async Worker Configuration
MAX_WORKERS=4
WORKER_TIMEOUT=300

# Memory Limits
MAX_MEMORY_MB=4096

# ============================================================
# TIMEZONE
# ============================================================

TZ=UTC

